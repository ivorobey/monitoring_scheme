# monitoring_scheme

![image](https://github.com/ivorobey/monitoring_scheme/blob/main/diagram.png)

- Kubernetes: платформа для управления контейнеризированными приложениями и масштабирования их работы. Используется для управления развертыванием всех инструментов в кластере.

- Grafana: инструмент визуализации данных, который используется для создания дашбордов и представления метрик и журналов из Prometheus, Loki и тд.

- Prometheus: система мониторинга и оповещения, которая собирает метрики от приложений и инфраструктуры, а затем анализирует их и генерирует оповещения при нарушении заданных правил. Часть метрик может быть отправлена в Cortex.

- Cortex: горизонтально масштабируемая платформа для хранения и запроса метрик, которая использует Minio в качестве хранилища для хранения своих данных. Cortex также может использоваться для агрегирования метрик из нескольких источников.

- Loki: система запущенная как StatefulSet в Kubernetes и служит для сбора и хранения логов приложений и инфраструктуры. Loki отправляет логи в Minio buckets для долговременного хранения.

- Promtail запущен как DaemonSet в Kubernetes и собирает логи с приложений и инфраструктуры. Promtail отправляет логи в Loki для индексирования и хранения. Promtail может быть настроен для сбора логов из различных источников, таких как файлы логов, syslog, journald и другие.

- Tempo: система сбора и хранения трассировок, которая использует Minio в качестве хранилища для хранения своих данных. Tempo также может использоваться для поиска и анализа трассировок.

  Tempo запущен как StatefulSet в Kubernetes и служит для хранения трейсов в долгосрочной перспективе. Tempo использует Minio buckets для хранения трейсов.

- Minio - это объектное хранилище, которое может использоваться для хранения данных, собранных из различных источников мониторинга, таких как Cortex и Tempo. Minio обеспечивает долгосрочное хранение данных, а также обеспечивает резервное копирование и восстановление данных.

  Minio развернут как StatefulSet в Kubernetes, что обеспечивает устойчивость к отказам и высокую доступность. 
